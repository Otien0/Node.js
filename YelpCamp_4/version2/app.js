var express    = require("express"),
    app        = express(),
    bodyParser = require("body-parser"),
    mongoose   = require("mongoose")

mongoose.connect("mongodb://localhost/yelp_camp", {useNewUrlParser: true, useUnifiedTopology: true})
app.use(bodyParser.urlencoded({extended: true}))
app.set("view engine", "ejs")

// SetUp SCHEMA
var campgroundSchema = new mongoose.Schema({
    name: String,
    image: String,
    description: String
})

//compiling the schema into a model
var Campground = mongoose.model("Campground", campgroundSchema)

// Campground.create(
//     {
//         name: "Camp Malta", 
//         image: "data:image/jpeg;base64,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",
//         description: "Camp friendly to your wallet. You will get a tent, cooking utensils, refrigeration, cutlery, gas burners, jikos, a barbeque burner, and meeting facilities like chairs and whiteboards. Facilities which are provided at an additional fee include charcoal, firewood for the camp fire, sleeping bags, cooking gas and a cook or a chef."
// }, function(err, campground){
//     if(err){
//         console.log(err)
//     } else{
//         console.log("NEWLY CREATED CAMPGROUND:")
//         console.log(campground)
//     }
// })


app.get("/", function(req, res){
    res.render("landing")
})

//INDEX ROUTE- shows all campgrounds
app.get("/campgrounds", function(req, res){
    //Get all campgrounds from DB
    Campground.find({}, function(err, allCampgrounds){
        if(err){
            console.log(err)
        } else{
            res.render("index", {campgrounds: allCampgrounds})
        }
    })
    
})

//CREATE ROUTE-- Add new campground to DB
app.post("/campgrounds", function(req, res){
    //get data from form and add to campgrounds array
    var name = req.body.name
    var image = req.body.image
    var desc = req.body.description
    var newCampground = {name: name, image: image, description: desc}
    //campgrounds.push(newCampground)
    Campground.create(newCampground, function(err, newlyCreated){
        if(err){
            console.log(err)
        } else{
            //redirect back to campgrounds page
            res.redirect("/campgrounds")
        }
    })
})

//NEW ROUTE-- show form to create new campground
app.get("/campgrounds/new", function(req, res){
    res.render("new.ejs")
})

//SHOW ROUTE-- shows more info about one campground
app.get("/campgrounds/:id", function(req, res){
    //find the campground with provided ID
    Campground.findById(req.params.id, function(err, foundCampground){
        if(err){
            console.log(err)
        } else {
            //render show template with that campgound
            res.render("show", {campground: foundCampground})
        }
    })  
})

app.listen(3005, function(req, res){
    console.log("YelpCamp server serving on port 3005")
})